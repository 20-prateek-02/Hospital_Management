<!DOCTYPE html>
<html>
<head>
    <title>SignUp/LogIn</title>
    <link rel="stylesheet" type="text/css" href="log.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
</head>
<body>
    <div class="container" id="main">
        <div class="SignIn">
            <form id="signupForm">
                <h1 class="create-account">Create Account</h1>
                <input type="text" name="text" id="name" placeholder="Name" required="">
                <input type="tel" name="PhoneNumber" id="phoneNumber" placeholder="Phone Number" required="">
                <input type="email" name="Email" id="email" placeholder="Email" required="">
                <input type="password" name="Passcode" id="password" placeholder="Passcode" required="">
                <div class="radio-group">
                    <label class="radio">
                        <input type="radio" value="Doctor" name="role" id="doctor">
                        Doctor
                        <span></span>
                    </label>
                    <label class="radio">
                        <input type="radio" value="Patient" name="role" id="patient">
                        Patient
                        <span></span>
                    </label>
                </div>
                <button type="button" onclick="signup()">SignUp</button>
            </form>
        </div>
        <div class="LogIn">
            <form id="loginForm">
                <h1>LogIn</h1>
                <br>
                <input type="email" name="Email" id="loginEmail" placeholder="Email" required="">
                <input type="password" name="Passcode" id="loginPassword" placeholder="Passcode" required="">
                <a href="#">Forgot Your Passcode?</a>
                <button type="button" onclick="login()">LogIn</button>
            </form>
        </div>
        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-left">
                    <h1>Welcome!</h1>
                    <p>LogIn to stay connected</p>
                    <button id="logIn" onclick="showSignupForm()">LogIn</button>
                </div>
                <div class="overlay-right">
                    <h1>Hello!</h1>
                    <p>Enter your details and have a seamless healthcare experience</p>
                    <button id="signIn" onclick="showLoginForm()">SignUp</button>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        function showLoginForm() {
            document.getElementById('main').classList.add('right-panel-active');
        }

        function showSignupForm() {
            document.getElementById('main').classList.remove('right-panel-active');
        }

        function signup() {
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "signup.php", true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    console.log(xhr.responseText);
                    // Handle response here
                }
            };
            var formData = {
                name: document.getElementById("name").value,
                phoneNumber: document.getElementById("phoneNumber").value,
                email: document.getElementById("email").value,
                password: document.getElementById("password").value,
                role: document.getElementById("doctor").checked ? "Doctor" : "Patient"
            };
            xhr.send(JSON.stringify(formData));
        }

        function login() {
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "login.php", true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    console.log(xhr.responseText);
                    // Handle response here
                }
            };
            var formData = {
                email: document.getElementById("loginEmail").value,
                password: document.getElementById("loginPassword").value
            };
            xhr.send(JSON.stringify(formData));
        }
    </script>
</body>
</html>